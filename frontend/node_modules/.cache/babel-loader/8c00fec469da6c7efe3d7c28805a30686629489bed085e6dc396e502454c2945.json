{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport custom_axios from '../plugins/axios.js';\nexport default {\n  props: {\n    carrera: {\n      type: Object,\n      default: () => ({\n        id: \"\",\n        nombre: \"\"\n      })\n    },\n    editar: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      valid: false,\n      nuevoNombre: \"\",\n      nombreRules: [v => !!v || \"El nombre es requerido\"]\n    };\n  },\n  watch: {\n    carrera: {\n      handler(nuevoValor) {\n        this.nuevoNombre = nuevoValor.nombre;\n        if (!this.editar) {\n          this.resetValidationForAbm();\n        }\n      }\n    }\n  },\n  methods: {\n    submit() {\n      if (this.editar) {\n        this.editarCarrera();\n      } else {\n        this.guardarCarrera();\n      }\n    },\n    guardarCarrera() {\n      const data = {\n        nombre: this.nuevoNombre\n      };\n      var that = this;\n      custom_axios.post(\"/apiv1/carrera\", data).then(function (response) {\n        console.log(response);\n        that.nuevoNombre = \"\";\n      }).catch(function (error) {\n        console.log(error);\n      }).then(function () {\n        that.resetValidationForAbm();\n        that.$emit(\"guardar\");\n        that.$router.push('/carreras');\n      });\n    },\n    editarCarrera() {\n      const data = {\n        nombre: this.nuevoNombre\n      };\n      var that = this;\n      custom_axios.patch(`/apiv1/carrera/${this.carrera.id}`, data).then(function (response) {\n        console.log(response);\n      }).catch(function (error) {\n        console.log(error);\n      }).then(function () {\n        that.resetValidationForAbm();\n        that.$emit(\"guardar\");\n      });\n    },\n    cancelar() {\n      this.resetValidationForAbm();\n      this.$emit(\"cancelar\");\n    },\n    resetValidationForAbm() {\n      this.$refs.form.resetValidation();\n    }\n  },\n  created() {\n    if (this.carrera) {\n      this.nuevoNombre = this.carrera.nombre;\n    }\n  }\n};","map":{"version":3,"names":["custom_axios","props","carrera","type","Object","default","id","nombre","editar","Boolean","data","valid","nuevoNombre","nombreRules","v","watch","handler","nuevoValor","resetValidationForAbm","methods","submit","editarCarrera","guardarCarrera","that","post","then","response","console","log","catch","error","$emit","$router","push","patch","cancelar","$refs","form","resetValidation","created"],"sources":["src/components/AbmCarrera.vue"],"sourcesContent":["<template>\n    <v-form ref=\"form\" v-model=\"valid\" @submit.prevent>\n      <v-card>\n        <v-card-title>{{ editar ? 'Editar Carrera' : 'Agregar Carrera' }}</v-card-title>\n        <v-card-text>\n          <v-text-field\n            @keyup.enter=\"submit\"\n            v-model=\"nuevoNombre\"\n            label=\"Nombre\"\n            :rules=\"nombreRules\"\n            required\n          ></v-text-field>\n        </v-card-text>\n        <v-card-actions>\n          <v-btn color=\"primary\" @click=\"submit\" :disabled=\"!valid\">\n            Guardar\n          </v-btn>\n          <v-btn color=\"secondary\" @click=\"cancelar\">\n            Cancelar\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-form>\n  </template>\n  \n  <script>\n  import custom_axios from '../plugins/axios.js';\n  \n  export default {\n    props: {\n      carrera: {\n        type: Object,\n        default: () => ({ id: \"\", nombre: \"\" }),\n      },\n      editar: {\n        type: Boolean,\n        default: false,\n      },\n    },\n    data() {\n      return {\n        valid: false,\n        nuevoNombre: \"\",\n        nombreRules: [(v) => !!v || \"El nombre es requerido\"],\n      };\n    },\n    watch: {\n      carrera: {\n        handler(nuevoValor) {\n          this.nuevoNombre = nuevoValor.nombre;\n          if (!this.editar) {\n            this.resetValidationForAbm();\n          }\n        },\n      },\n    },\n    methods: {\n      submit() {\n        if (this.editar) {\n          this.editarCarrera();\n        } else {\n          this.guardarCarrera();\n        }\n      },\n      guardarCarrera() {\n        const data = {\n          nombre: this.nuevoNombre,\n        };\n        var that = this;\n        custom_axios\n          .post(\"/apiv1/carrera\", data)\n          .then(function (response) {\n            console.log(response);\n            that.nuevoNombre = \"\";\n          })\n          .catch(function (error) {\n            console.log(error);\n          })\n          .then(function () {\n            that.resetValidationForAbm();\n            that.$emit(\"guardar\");\n             that.$router.push('/carreras'); \n          });\n      },\n      editarCarrera() {\n        const data = {\n          nombre: this.nuevoNombre,\n        };\n        var that = this;\n        custom_axios\n          .patch(`/apiv1/carrera/${this.carrera.id}`, data)\n          .then(function (response) {\n            console.log(response);\n          })\n          .catch(function (error) {\n            console.log(error);\n          })\n          .then(function () {\n            that.resetValidationForAbm();\n            that.$emit(\"guardar\");\n          });\n      },\n      cancelar() {\n        this.resetValidationForAbm();\n        this.$emit(\"cancelar\");\n      },\n      resetValidationForAbm() {\n        this.$refs.form.resetValidation();\n      },\n    },\n    created() {\n      if (this.carrera) {\n        this.nuevoNombre = this.carrera.nombre;\n      }\n    },\n  };\n  </script>\n  \n  <style scoped>\n  </style>d\n  "],"mappings":";AA0BA,OAAAA,YAAA;AAEA;EACAC,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,EAAAA,CAAA;QAAAC,EAAA;QAAAC,MAAA;MAAA;IACA;IACAC,MAAA;MACAL,IAAA,EAAAM,OAAA;MACAJ,OAAA;IACA;EACA;EACAK,KAAA;IACA;MACAC,KAAA;MACAC,WAAA;MACAC,WAAA,GAAAC,CAAA,MAAAA,CAAA;IACA;EACA;EACAC,KAAA;IACAb,OAAA;MACAc,QAAAC,UAAA;QACA,KAAAL,WAAA,GAAAK,UAAA,CAAAV,MAAA;QACA,UAAAC,MAAA;UACA,KAAAU,qBAAA;QACA;MACA;IACA;EACA;EACAC,OAAA;IACAC,OAAA;MACA,SAAAZ,MAAA;QACA,KAAAa,aAAA;MACA;QACA,KAAAC,cAAA;MACA;IACA;IACAA,eAAA;MACA,MAAAZ,IAAA;QACAH,MAAA,OAAAK;MACA;MACA,IAAAW,IAAA;MACAvB,YAAA,CACAwB,IAAA,mBAAAd,IAAA,EACAe,IAAA,WAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA;QACAH,IAAA,CAAAX,WAAA;MACA,GACAiB,KAAA,WAAAC,KAAA;QACAH,OAAA,CAAAC,GAAA,CAAAE,KAAA;MACA,GACAL,IAAA;QACAF,IAAA,CAAAL,qBAAA;QACAK,IAAA,CAAAQ,KAAA;QACAR,IAAA,CAAAS,OAAA,CAAAC,IAAA;MACA;IACA;IACAZ,cAAA;MACA,MAAAX,IAAA;QACAH,MAAA,OAAAK;MACA;MACA,IAAAW,IAAA;MACAvB,YAAA,CACAkC,KAAA,wBAAAhC,OAAA,CAAAI,EAAA,IAAAI,IAAA,EACAe,IAAA,WAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA;MACA,GACAG,KAAA,WAAAC,KAAA;QACAH,OAAA,CAAAC,GAAA,CAAAE,KAAA;MACA,GACAL,IAAA;QACAF,IAAA,CAAAL,qBAAA;QACAK,IAAA,CAAAQ,KAAA;MACA;IACA;IACAI,SAAA;MACA,KAAAjB,qBAAA;MACA,KAAAa,KAAA;IACA;IACAb,sBAAA;MACA,KAAAkB,KAAA,CAAAC,IAAA,CAAAC,eAAA;IACA;EACA;EACAC,QAAA;IACA,SAAArC,OAAA;MACA,KAAAU,WAAA,QAAAV,OAAA,CAAAK,MAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}