{"ast":null,"code":"import custom_axios from '../plugins/axios.js';\nimport AbmReservaAula from './AbmReservaAula.vue';\nexport default {\n  components: {\n    AbmReservaAula\n  },\n  data() {\n    return {\n      headers: [{\n        text: 'ID Aula',\n        value: 'id_aula'\n      }, {\n        text: 'Fecha Hora Desde',\n        value: 'fh_desde'\n      }, {\n        text: 'Fecha Hora Hasta',\n        value: 'fh_hasta'\n      }, {\n        text: 'Observación',\n        value: 'observacion'\n      }, {\n        text: 'Acciones',\n        value: 'actions',\n        sortable: false\n      }],\n      listadoReservaAula: [],\n      mostrarAbmReservaAula: false,\n      mostrarConfirmacion: false,\n      reservaAulaSeleccionada: {},\n      reservaAulaAEliminar: null,\n      editar: false\n    };\n  },\n  methods: {\n    todasLasReservasAula() {\n      custom_axios.get('/apiv1/reservaaula').then(response => {\n        if (response.status === 200) {\n          this.listadoReservaAula = response.data;\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    abrirAbmReservaAula(editar, reserva = null) {\n      this.editar = editar;\n      this.reservaAulaSeleccionada = reserva || {\n        id: \"\",\n        id_aula: \"\",\n        fh_desde: \"\",\n        fh_hasta: \"\",\n        observacion: \"\"\n      };\n      this.mostrarAbmReservaAula = true;\n    },\n    guardarAbmReservaAula() {\n      this.todasLasReservasAula();\n      this.mostrarAbmReservaAula = false;\n    },\n    cancelarAbmReservaAula() {\n      this.mostrarAbmReservaAula = false;\n    },\n    confirmarEliminarReservaAula(reserva) {\n      this.reservaAulaAEliminar = reserva;\n      this.mostrarConfirmacion = true;\n    },\n    eliminarReservaAulaConfirmada() {\n      if (this.reservaAulaAEliminar) {\n        custom_axios.delete(`/apiv1/reservaaula/${this.reservaAulaAEliminar.id}`).then(response => {\n          if (response.status === 204) {\n            this.todasLasReservasAula();\n            this.mostrarConfirmacion = false;\n          }\n        }).catch(error => {\n          console.error(error);\n        });\n      }\n    }\n  },\n  created() {\n    this.todasLasReservasAula();\n  }\n};","map":{"version":3,"names":["custom_axios","AbmReservaAula","components","data","headers","text","value","sortable","listadoReservaAula","mostrarAbmReservaAula","mostrarConfirmacion","reservaAulaSeleccionada","reservaAulaAEliminar","editar","methods","todasLasReservasAula","get","then","response","status","catch","error","console","abrirAbmReservaAula","reserva","id","id_aula","fh_desde","fh_hasta","observacion","guardarAbmReservaAula","cancelarAbmReservaAula","confirmarEliminarReservaAula","eliminarReservaAulaConfirmada","delete","created"],"sources":["src/components/ListadoReservaAula.vue"],"sourcesContent":["<template>\n    <div>\n      <div>\n        <v-btn color=\"primary\" @click=\"abrirAbmReservaAula(false)\">Agregar Reserva de Aula</v-btn>\n      </div>\n  \n      <v-data-table\n        :headers=\"headers\"\n        :items=\"listadoReservaAula\"\n        height=\"400\"\n        item-value=\"id\"\n      >\n        <template v-slot:item.actions=\"{ item }\">\n          <v-icon @click=\"abrirAbmReservaAula(true, item)\" class=\"mr-2\">mdi-pencil</v-icon>\n          <v-icon @click=\"confirmarEliminarReservaAula(item)\" class=\"ml-2\">mdi-delete</v-icon>\n        </template>\n      </v-data-table>\n  \n      <v-dialog v-model=\"mostrarAbmReservaAula\" max-width=\"500px\" persistent>\n        <AbmReservaAula\n          :reserva=\"reservaAulaSeleccionada\"\n          :editar=\"editar\"\n          @guardar=\"guardarAbmReservaAula\"\n          @cancelar=\"cancelarAbmReservaAula\"\n        />\n      </v-dialog>\n  \n      <v-dialog v-model=\"mostrarConfirmacion\" max-width=\"500px\">\n        <v-card>\n          <v-card-title class=\"headline\">Confirmar Eliminación</v-card-title>\n          <v-card-text>¿Está seguro de que desea eliminar la reserva de aula?</v-card-text>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"green darken-1\" text @click=\"mostrarConfirmacion = false\">Cancelar</v-btn>\n            <v-btn color=\"red darken-1\" text @click=\"eliminarReservaAulaConfirmada\">Eliminar</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </div>\n  </template>\n  \n  <script>\n  import custom_axios from '../plugins/axios.js';\n  import AbmReservaAula from './AbmReservaAula.vue';\n  \n  export default {\n    components: {\n      AbmReservaAula,\n    },\n    data() {\n      return {\n        headers: [\n          { text: 'ID Aula', value: 'id_aula' },\n          { text: 'Fecha Hora Desde', value: 'fh_desde' },\n          { text: 'Fecha Hora Hasta', value: 'fh_hasta' },\n          { text: 'Observación', value: 'observacion' },\n          { text: 'Acciones', value: 'actions', sortable: false },\n        ],\n        listadoReservaAula: [],\n        mostrarAbmReservaAula: false,\n        mostrarConfirmacion: false,\n        reservaAulaSeleccionada: {},\n        reservaAulaAEliminar: null,\n        editar: false,\n      };\n    },\n    methods: {\n      todasLasReservasAula() {\n        custom_axios\n          .get('/apiv1/reservaaula')\n          .then(response => {\n            if (response.status === 200) {\n              this.listadoReservaAula = response.data;\n            }\n          })\n          .catch(error => {\n            console.error(error);\n          });\n      },\n      abrirAbmReservaAula(editar, reserva = null) {\n        this.editar = editar;\n        this.reservaAulaSeleccionada = reserva || { id: \"\", id_aula: \"\", fh_desde: \"\", fh_hasta: \"\", observacion: \"\" };\n        this.mostrarAbmReservaAula = true;\n      },\n      guardarAbmReservaAula() {\n        this.todasLasReservasAula();\n        this.mostrarAbmReservaAula = false;\n      },\n      cancelarAbmReservaAula() {\n        this.mostrarAbmReservaAula = false;\n      },\n      confirmarEliminarReservaAula(reserva) {\n        this.reservaAulaAEliminar = reserva;\n        this.mostrarConfirmacion = true;\n      },\n      eliminarReservaAulaConfirmada() {\n        if (this.reservaAulaAEliminar) {\n          custom_axios\n            .delete(`/apiv1/reservaaula/${this.reservaAulaAEliminar.id}`)\n            .then(response => {\n              if (response.status === 204) {\n                this.todasLasReservasAula();\n                this.mostrarConfirmacion = false;\n              }\n            })\n            .catch(error => {\n              console.error(error);\n            });\n        }\n      },\n    },\n    created() {\n      this.todasLasReservasAula();\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .mr-2 {\n    margin-right: 8px;\n  }\n  .ml-2 {\n    margin-left: 8px;\n  }\n  </style>\n  "],"mappings":"AA0CA,OAAAA,YAAA;AACA,OAAAC,cAAA;AAEA;EACAC,UAAA;IACAD;EACA;EACAE,KAAA;IACA;MACAC,OAAA,GACA;QAAAC,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;QAAAC,QAAA;MAAA,EACA;MACAC,kBAAA;MACAC,qBAAA;MACAC,mBAAA;MACAC,uBAAA;MACAC,oBAAA;MACAC,MAAA;IACA;EACA;EACAC,OAAA;IACAC,qBAAA;MACAf,YAAA,CACAgB,GAAA,uBACAC,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAC,MAAA;UACA,KAAAX,kBAAA,GAAAU,QAAA,CAAAf,IAAA;QACA;MACA,GACAiB,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,CAAAA,KAAA;MACA;IACA;IACAE,oBAAAV,MAAA,EAAAW,OAAA;MACA,KAAAX,MAAA,GAAAA,MAAA;MACA,KAAAF,uBAAA,GAAAa,OAAA;QAAAC,EAAA;QAAAC,OAAA;QAAAC,QAAA;QAAAC,QAAA;QAAAC,WAAA;MAAA;MACA,KAAApB,qBAAA;IACA;IACAqB,sBAAA;MACA,KAAAf,oBAAA;MACA,KAAAN,qBAAA;IACA;IACAsB,uBAAA;MACA,KAAAtB,qBAAA;IACA;IACAuB,6BAAAR,OAAA;MACA,KAAAZ,oBAAA,GAAAY,OAAA;MACA,KAAAd,mBAAA;IACA;IACAuB,8BAAA;MACA,SAAArB,oBAAA;QACAZ,YAAA,CACAkC,MAAA,4BAAAtB,oBAAA,CAAAa,EAAA,IACAR,IAAA,CAAAC,QAAA;UACA,IAAAA,QAAA,CAAAC,MAAA;YACA,KAAAJ,oBAAA;YACA,KAAAL,mBAAA;UACA;QACA,GACAU,KAAA,CAAAC,KAAA;UACAC,OAAA,CAAAD,KAAA,CAAAA,KAAA;QACA;MACA;IACA;EACA;EACAc,QAAA;IACA,KAAApB,oBAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}