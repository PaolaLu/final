{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport custom_axios from '../plugins/axios.js';\nimport AbmMateria from './AbmMateria.vue';\nexport default {\n  name: 'ListadoMateriasYProfesores',\n  components: {\n    AbmMateria\n  },\n  data() {\n    return {\n      headers: [{\n        text: 'Nombre',\n        value: 'nombre'\n      }, {\n        text: 'Cantidad de Alumnos',\n        value: 'cant_alumnos'\n      }, {\n        text: 'Acciones',\n        value: 'actions',\n        sortable: false\n      }],\n      headersProfesores: [{\n        text: 'Nombre',\n        value: 'nombre'\n      }, {\n        text: 'Apellido',\n        value: 'apellido'\n      }, {\n        text: 'Acciones',\n        value: 'actions',\n        sortable: false\n      }],\n      listadoMaterias: [],\n      listadoProfesores: [],\n      mostrarAbmMateria: false,\n      mostrarConfirmacion: false,\n      materiaSeleccionada: {},\n      profesorSeleccionado: {},\n      elementoAEliminar: null,\n      editar: false,\n      tipoElementoAEliminar: ''\n    };\n  },\n  methods: {\n    async todasLasMaterias() {\n      try {\n        const response = await custom_axios.get('/apiv1/materia');\n        if (response.status === 200) {\n          this.listadoMaterias = response.data;\n          console.log('Materias cargadas:', this.listadoMaterias);\n        }\n      } catch (error) {\n        console.error('Error al cargar materias:', error);\n      }\n    },\n    async todosLosProfesores() {\n      try {\n        const response = await custom_axios.get('/apiv1/profesor');\n        if (response.status === 200) {\n          this.listadoProfesores = response.data;\n          console.log('Profesores cargados:', this.listadoProfesores);\n        }\n      } catch (error) {\n        console.error('Error al cargar profesores:', error);\n      }\n    },\n    navigateToAbmMateria() {\n      this.$router.push('/abmmateria');\n    },\n    navigateToHome() {\n      this.$router.push('/');\n    },\n    editarMateria(item) {\n      this.materiaSeleccionada = {\n        ...item\n      };\n      this.editar = true;\n      this.mostrarAbmMateria = true;\n    },\n    editarProfesor(item) {\n      // Implementar la lógica para editar profesor\n      console.log('Editar profesor:', item);\n      // Aquí podrías abrir un diálogo similar al de AbmMateria para editar profesores\n    },\n    confirmarEliminarMateria(item) {\n      this.elementoAEliminar = item;\n      this.tipoElementoAEliminar = 'materia';\n      this.mostrarConfirmacion = true;\n    },\n    confirmarEliminarProfesor(item) {\n      this.elementoAEliminar = item;\n      this.tipoElementoAEliminar = 'profesor';\n      this.mostrarConfirmacion = true;\n    },\n    async eliminarElementoConfirmado() {\n      if (this.tipoElementoAEliminar === 'materia') {\n        await this.eliminarMateria();\n      } else if (this.tipoElementoAEliminar === 'profesor') {\n        await this.eliminarProfesor();\n      }\n      this.mostrarConfirmacion = false;\n    },\n    async eliminarMateria() {\n      try {\n        const response = await custom_axios.delete(`/apiv1/materia/${this.elementoAEliminar.id}`);\n        if (response.status === 204) {\n          await this.todasLasMaterias();\n        }\n      } catch (error) {\n        console.error('Error al eliminar materia:', error);\n      }\n    },\n    async eliminarProfesor() {\n      try {\n        const response = await custom_axios.delete(`/apiv1/profesor/${this.elementoAEliminar.id}`);\n        if (response.status === 204) {\n          await this.todosLosProfesores();\n        }\n      } catch (error) {\n        console.error('Error al eliminar profesor:', error);\n      }\n    },\n    guardarAbmMateria() {\n      this.mostrarAbmMateria = false;\n      this.todasLasMaterias();\n    },\n    cancelarAbmMateria() {\n      this.mostrarAbmMateria = false;\n    }\n  },\n  async mounted() {\n    await this.todasLasMaterias();\n    await this.todosLosProfesores();\n  }\n};","map":{"version":3,"names":["custom_axios","AbmMateria","name","components","data","headers","text","value","sortable","headersProfesores","listadoMaterias","listadoProfesores","mostrarAbmMateria","mostrarConfirmacion","materiaSeleccionada","profesorSeleccionado","elementoAEliminar","editar","tipoElementoAEliminar","methods","todasLasMaterias","response","get","status","console","log","error","todosLosProfesores","navigateToAbmMateria","$router","push","navigateToHome","editarMateria","item","editarProfesor","confirmarEliminarMateria","confirmarEliminarProfesor","eliminarElementoConfirmado","eliminarMateria","eliminarProfesor","delete","id","guardarAbmMateria","cancelarAbmMateria","mounted"],"sources":["src/components/ListadoMateria.vue"],"sourcesContent":["<template>\n  <div class=\"aula-container\">\n    <div class=\"button-container\">\n      <v-btn \n        color=\"primary\"\n        @click=\"navigateToAbmMateria\"\n        class=\"custom-button mr-4\"\n      >\n        <v-icon left>mdi-school</v-icon>\n        Agregar Materia\n      </v-btn>\n      <v-btn\n        color=\"blue\" \n        @click=\"navigateToHome\"\n        class=\"custom-button\"\n      >\n        <v-icon left>mdi-home</v-icon>\n        Volver a Home\n      </v-btn>\n    </div>\n\n    <h2>Materias</h2>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"listadoMaterias\"\n      :items-per-page=\"5\"\n      class=\"elevation-1\"\n    >\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon small class=\"mr-2\" @click=\"editarMateria(item)\">mdi-pencil</v-icon>\n        <v-icon small @click=\"confirmarEliminarMateria(item)\">mdi-delete</v-icon>\n      </template>\n    </v-data-table>\n\n    <h2 class=\"mt-4\">Profesores</h2>\n    <v-data-table\n      :headers=\"headersProfesores\"\n      :items=\"listadoProfesores\"\n      :items-per-page=\"5\"\n      class=\"elevation-1\"\n    >\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon small class=\"mr-2\" @click=\"editarProfesor(item)\">mdi-pencil</v-icon>\n        <v-icon small @click=\"confirmarEliminarProfesor(item)\">mdi-delete</v-icon>\n      </template>\n    </v-data-table>\n\n    <v-dialog v-model=\"mostrarAbmMateria\" max-width=\"500px\" persistent>\n      <AbmMateria\n        :materia=\"materiaSeleccionada\"\n        :editar=\"editar\"\n        @guardar=\"guardarAbmMateria\"\n        @cancelar=\"cancelarAbmMateria\"\n      />\n    </v-dialog>\n\n    <v-dialog v-model=\"mostrarConfirmacion\" max-width=\"500px\">\n      <v-card>\n        <v-card-title class=\"headline\">Confirmar Eliminación</v-card-title>\n        <v-card-text>¿Está seguro de que desea eliminar este elemento?</v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"green darken-1\" text @click=\"mostrarConfirmacion = false\">Cancelar</v-btn>\n          <v-btn color=\"red darken-1\" text @click=\"eliminarElementoConfirmado\">Eliminar</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport custom_axios from '../plugins/axios.js';\nimport AbmMateria from './AbmMateria.vue';\n\nexport default {\n  name: 'ListadoMateriasYProfesores',\n  components: {\n    AbmMateria,\n  },\n  data() {\n    return {\n      headers: [\n        { text: 'Nombre', value: 'nombre' },\n        { text: 'Cantidad de Alumnos', value: 'cant_alumnos' },\n        { text: 'Acciones', value: 'actions', sortable: false },\n      ],\n      headersProfesores: [\n        { text: 'Nombre', value: 'nombre' },\n        { text: 'Apellido', value: 'apellido' },\n        { text: 'Acciones', value: 'actions', sortable: false },\n      ],\n      listadoMaterias: [],\n      listadoProfesores: [],\n      mostrarAbmMateria: false,\n      mostrarConfirmacion: false,\n      materiaSeleccionada: {},\n      profesorSeleccionado: {},\n      elementoAEliminar: null,\n      editar: false,\n      tipoElementoAEliminar: '',\n    };\n  },\n  methods: {\n    async todasLasMaterias() {\n      try {\n        const response = await custom_axios.get('/apiv1/materia');\n        if (response.status === 200) {\n          this.listadoMaterias = response.data;\n          console.log('Materias cargadas:', this.listadoMaterias);\n        }\n      } catch (error) {\n        console.error('Error al cargar materias:', error);\n      }\n    },\n    async todosLosProfesores() {\n      try {\n        const response = await custom_axios.get('/apiv1/profesor');\n        if (response.status === 200) {\n          this.listadoProfesores = response.data;\n          console.log('Profesores cargados:', this.listadoProfesores);\n        }\n      } catch (error) {\n        console.error('Error al cargar profesores:', error);\n      }\n    },\n    navigateToAbmMateria() {\n      this.$router.push('/abmmateria');\n    },\n    navigateToHome() {\n      this.$router.push('/');\n    },\n    editarMateria(item) {\n      this.materiaSeleccionada = { ...item };\n      this.editar = true;\n      this.mostrarAbmMateria = true;\n    },\n    editarProfesor(item) {\n      // Implementar la lógica para editar profesor\n      console.log('Editar profesor:', item);\n      // Aquí podrías abrir un diálogo similar al de AbmMateria para editar profesores\n    },\n    confirmarEliminarMateria(item) {\n      this.elementoAEliminar = item;\n      this.tipoElementoAEliminar = 'materia';\n      this.mostrarConfirmacion = true;\n    },\n    confirmarEliminarProfesor(item) {\n      this.elementoAEliminar = item;\n      this.tipoElementoAEliminar = 'profesor';\n      this.mostrarConfirmacion = true;\n    },\n    async eliminarElementoConfirmado() {\n      if (this.tipoElementoAEliminar === 'materia') {\n        await this.eliminarMateria();\n      } else if (this.tipoElementoAEliminar === 'profesor') {\n        await this.eliminarProfesor();\n      }\n      this.mostrarConfirmacion = false;\n    },\n    async eliminarMateria() {\n      try {\n        const response = await custom_axios.delete(`/apiv1/materia/${this.elementoAEliminar.id}`);\n        if (response.status === 204) {\n          await this.todasLasMaterias();\n        }\n      } catch (error) {\n        console.error('Error al eliminar materia:', error);\n      }\n    },\n    async eliminarProfesor() {\n      try {\n        const response = await custom_axios.delete(`/apiv1/profesor/${this.elementoAEliminar.id}`);\n        if (response.status === 204) {\n          await this.todosLosProfesores();\n        }\n      } catch (error) {\n        console.error('Error al eliminar profesor:', error);\n      }\n    },\n    guardarAbmMateria() {\n      this.mostrarAbmMateria = false;\n      this.todasLasMaterias();\n    },\n    cancelarAbmMateria() {\n      this.mostrarAbmMateria = false;\n    },\n  },\n  async mounted() {\n    await this.todasLasMaterias();\n    await this.todosLosProfesores();\n  },\n};\n</script>\n\n<style scoped>\n.aula-container {\n  padding: 20px;\n}\n.button-container {\n  margin-bottom: 20px;\n}\n.custom-button {\n  margin-right: 10px;\n}\n.mt-4 {\n  margin-top: 1rem;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}