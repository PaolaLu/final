{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport custom_axios from '../plugins/axios.js';\nexport default {\n  props: {\n    aula: {\n      type: Object,\n      default: () => ({\n        id: \"\",\n        descripcion: \"\",\n        ubicacion: \"\",\n        cant_pcs: \"\",\n        cant_proyector: \"\",\n        es_climatizada: \"\",\n        aforo: \"\"\n      })\n    },\n    editar: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      valid: false,\n      aulaData: {\n        descripcion: \"\",\n        ubicacion: \"\",\n        cant_pcs: \"\",\n        cant_proyector: \"\",\n        es_climatizada: null,\n        // Inicialmente nulo para no seleccionado\n        aforo: \"\"\n      },\n      descripcionRules: [v => !!v || 'La descripción es obligatoria'],\n      ubicacionRules: [v => !!v || 'La ubicación es obligatoria'],\n      cant_pcsRules: [v => !!v || 'La cantidad de PCs es obligatoria'],\n      cant_proyectorRules: [v => !!v || 'La cantidad de proyectores es obligatoria'],\n      es_climatizadaRules: [v => v !== null || 'Debes seleccionar si es climatizada o no'],\n      aforoRules: [v => !!v || 'El aforo es obligatorio']\n    };\n  },\n  watch: {\n    aula: {\n      handler(nuevoValor) {\n        this.aulaData = {\n          ...nuevoValor\n        };\n        if (!this.editar) {\n          this.resetValidationForAbm();\n        }\n      },\n      immediate: true,\n      deep: true\n    }\n  },\n  methods: {\n    submit() {\n      if (this.editar) {\n        this.editarAula();\n      } else {\n        this.guardarAula();\n      }\n    },\n    guardarAula() {\n      custom_axios.post(\"/apiv1/aula\", this.aulaData).then(response => {\n        console.log(response);\n        console.log(\"stoy copeoadno mal\");\n        this.resetValidationForAbm();\n        this.$emit(\"guardar\");\n        this.$router.push('/aulas');\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    editarAula() {\n      custom_axios.patch(`/apiv1/aula/${this.aula.id}`, this.aulaData).then(response => {\n        console.log(response);\n        this.resetValidationForAbm();\n        this.$emit(\"guardar\");\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    cancelar() {\n      this.resetValidationForAbm();\n      this.$emit(\"cancelar\");\n    },\n    resetValidationForAbm() {\n      if (this.$refs.form) {\n        this.$refs.form.resetValidation();\n      }\n    }\n  },\n  created() {\n    if (this.aula) {\n      this.aulaData = {\n        ...this.aula\n      };\n    }\n  }\n};","map":{"version":3,"names":["custom_axios","props","aula","type","Object","default","id","descripcion","ubicacion","cant_pcs","cant_proyector","es_climatizada","aforo","editar","Boolean","data","valid","aulaData","descripcionRules","v","ubicacionRules","cant_pcsRules","cant_proyectorRules","es_climatizadaRules","aforoRules","watch","handler","nuevoValor","resetValidationForAbm","immediate","deep","methods","submit","editarAula","guardarAula","post","then","response","console","log","$emit","$router","push","catch","error","patch","cancelar","$refs","form","resetValidation","created"],"sources":["src/components/AbmAula.vue"],"sourcesContent":["<template>\n    <v-form ref=\"form\" v-model=\"valid\" @submit.prevent=\"submit\">\n      <v-card>\n        <v-card-title>{{ editar ? 'Editar Aula' : 'Agregar Aula' }}</v-card-title>\n        <v-card-text>\n          <v-text-field\n            v-model=\"aulaData.descripcion\"\n            label=\"Descripción\"\n            :rules=\"descripcionRules\"\n            required\n          ></v-text-field>\n          <v-text-field\n            v-model=\"aulaData.ubicacion\"\n            label=\"Ubicación\"\n            :rules=\"ubicacionRules\"\n            required\n          ></v-text-field>\n          <v-text-field\n            @keyup.enter=\"submit\"\n            v-model=\"aulaData.cant_pcs\"\n            label=\"Cant_pcs\"\n            :rules=\"cant_pcsRules\"\n            required\n          ></v-text-field>\n          <v-text-field\n            @keyup.enter=\"submit\"\n            v-model=\"aulaData.cant_proyector\"\n            label=\"Cant_proyector\"\n            :rules=\"cant_proyectorRules\"\n            required\n          ></v-text-field>\n          <v-radio-group\n            v-model=\"aulaData.es_climatizada\"\n            label=\"¿Es climatizada?\"\n            :rules=\"es_climatizadaRules\"\n            row\n          >\n            <v-radio label=\"Sí\" :value=\"true\"></v-radio>\n            <v-radio label=\"No\" :value=\"false\"></v-radio>\n          </v-radio-group>\n          <v-text-field\n            @keyup.enter=\"submit\"\n            v-model=\"aulaData.aforo\"\n            label=\"Aforo\"\n            :rules=\"aforoRules\"\n            required\n          ></v-text-field>\n        </v-card-text>\n        <v-card-actions>\n          <v-btn color=\"primary\" @click=\"submit\" :disabled=\"!valid\">\n            Guardar\n          </v-btn>\n          <v-btn color=\"secondary\" @click=\"cancelar\">\n            Cancelar\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-form>\n  </template>\n  \n  <script>\n  import custom_axios from '../plugins/axios.js';\n  \n  export default {\n    props: {\n      aula: {\n        type: Object,\n        default: () => ({\n          id: \"\",\n          descripcion: \"\",\n          ubicacion: \"\",\n          cant_pcs: \"\",\n          cant_proyector: \"\",\n          es_climatizada: \"\",\n          aforo: \"\",\n        }),\n      },\n      editar: {\n        type: Boolean,\n        default: false,\n      },\n    },\n    data() {\n      return {\n        valid: false,\n        aulaData: {\n          descripcion: \"\",\n          ubicacion: \"\",\n          cant_pcs: \"\",\n          cant_proyector: \"\",\n          es_climatizada: null, // Inicialmente nulo para no seleccionado\n          aforo: \"\",\n        },\n        descripcionRules: [\n          v => !!v || 'La descripción es obligatoria',\n        ],\n        ubicacionRules: [\n          v => !!v || 'La ubicación es obligatoria',\n        ],\n        cant_pcsRules: [\n          v => !!v || 'La cantidad de PCs es obligatoria',\n        ],\n        cant_proyectorRules: [\n          v => !!v || 'La cantidad de proyectores es obligatoria',\n        ],\n        es_climatizadaRules: [\n          v => v !== null || 'Debes seleccionar si es climatizada o no',\n        ],\n        aforoRules: [\n          v => !!v || 'El aforo es obligatorio',\n        ],\n      };\n    },\n    watch: {\n      aula: {\n        handler(nuevoValor) {\n          this.aulaData = { ...nuevoValor };\n          if (!this.editar) {\n            this.resetValidationForAbm();\n          }\n        },\n        immediate: true,\n        deep: true,\n      },\n    },\n    methods: {\n      submit() {\n        if (this.editar) {\n          this.editarAula();\n        } else {\n          this.guardarAula();\n        }\n      },\n      guardarAula() {\n        custom_axios\n          .post(\"/apiv1/aula\", this.aulaData)\n          .then(response => {\n            console.log(response);\n            console.log(\"stoy copeoadno mal\")\n            this.resetValidationForAbm();\n            this.$emit(\"guardar\");\n            this.$router.push('/aulas');\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      },\n      editarAula() {\n        custom_axios\n          .patch(`/apiv1/aula/${this.aula.id}`, this.aulaData)\n          .then(response => {\n            console.log(response);\n            this.resetValidationForAbm();\n            this.$emit(\"guardar\");\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      },\n      cancelar() {\n        this.resetValidationForAbm();\n        this.$emit(\"cancelar\");\n      },\n      resetValidationForAbm() {\n        if (this.$refs.form) {\n          this.$refs.form.resetValidation();\n        }\n      },\n    },\n    created() {\n      if (this.aula) {\n        this.aulaData = { ...this.aula };\n      }\n    },\n  };\n  </script>\n  \n  <style scoped>\n  </style>\n  "],"mappings":";AA6DA,OAAAA,YAAA;AAEA;EACAC,KAAA;IACAC,IAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,EAAAA,CAAA;QACAC,EAAA;QACAC,WAAA;QACAC,SAAA;QACAC,QAAA;QACAC,cAAA;QACAC,cAAA;QACAC,KAAA;MACA;IACA;IACAC,MAAA;MACAV,IAAA,EAAAW,OAAA;MACAT,OAAA;IACA;EACA;EACAU,KAAA;IACA;MACAC,KAAA;MACAC,QAAA;QACAV,WAAA;QACAC,SAAA;QACAC,QAAA;QACAC,cAAA;QACAC,cAAA;QAAA;QACAC,KAAA;MACA;MACAM,gBAAA,GACAC,CAAA,MAAAA,CAAA,oCACA;MACAC,cAAA,GACAD,CAAA,MAAAA,CAAA,kCACA;MACAE,aAAA,GACAF,CAAA,MAAAA,CAAA,wCACA;MACAG,mBAAA,GACAH,CAAA,MAAAA,CAAA,gDACA;MACAI,mBAAA,GACAJ,CAAA,IAAAA,CAAA,wDACA;MACAK,UAAA,GACAL,CAAA,MAAAA,CAAA;IAEA;EACA;EACAM,KAAA;IACAvB,IAAA;MACAwB,QAAAC,UAAA;QACA,KAAAV,QAAA;UAAA,GAAAU;QAAA;QACA,UAAAd,MAAA;UACA,KAAAe,qBAAA;QACA;MACA;MACAC,SAAA;MACAC,IAAA;IACA;EACA;EACAC,OAAA;IACAC,OAAA;MACA,SAAAnB,MAAA;QACA,KAAAoB,UAAA;MACA;QACA,KAAAC,WAAA;MACA;IACA;IACAA,YAAA;MACAlC,YAAA,CACAmC,IAAA,qBAAAlB,QAAA,EACAmB,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA;QACAC,OAAA,CAAAC,GAAA;QACA,KAAAX,qBAAA;QACA,KAAAY,KAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;MACA,GACAC,KAAA,CAAAC,KAAA;QACAN,OAAA,CAAAC,GAAA,CAAAK,KAAA;MACA;IACA;IACAX,WAAA;MACAjC,YAAA,CACA6C,KAAA,qBAAA3C,IAAA,CAAAI,EAAA,SAAAW,QAAA,EACAmB,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA;QACA,KAAAT,qBAAA;QACA,KAAAY,KAAA;MACA,GACAG,KAAA,CAAAC,KAAA;QACAN,OAAA,CAAAC,GAAA,CAAAK,KAAA;MACA;IACA;IACAE,SAAA;MACA,KAAAlB,qBAAA;MACA,KAAAY,KAAA;IACA;IACAZ,sBAAA;MACA,SAAAmB,KAAA,CAAAC,IAAA;QACA,KAAAD,KAAA,CAAAC,IAAA,CAAAC,eAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,SAAAhD,IAAA;MACA,KAAAe,QAAA;QAAA,QAAAf;MAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}