{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport custom_axios from '../plugins/axios.js';\nexport default {\n  props: {\n    reserva: {\n      type: Object,\n      default: () => ({\n        id: \"\",\n        id_aula: null,\n        fh_desde: \"\",\n        fh_hasta: \"\",\n        observacion: \"\"\n      })\n    },\n    editar: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      valid: false,\n      reservaData: {\n        id_aula: null,\n        fh_desde: \"\",\n        fh_hasta: \"\",\n        observacion: \"\"\n      },\n      aulas: [],\n      aulaRules: [v => !!v || 'El aula es obligatoria'],\n      fechaDesdeRules: [v => !!v || 'La fecha y hora desde es obligatoria'],\n      fechaHastaRules: [v => !!v || 'La fecha y hora hasta es obligatoria'],\n      observacionRules: [v => !v || v.length <= 256 || 'La observación no debe exceder los 256 caracteres']\n    };\n  },\n  watch: {\n    reserva: {\n      handler(nuevoValor) {\n        this.reservaData = {\n          ...nuevoValor\n        };\n        if (!this.editar) {\n          this.resetValidationForAbm();\n        }\n      },\n      immediate: true,\n      deep: true\n    }\n  },\n  methods: {\n    submit() {\n      if (this.editar) {\n        this.editarReserva();\n      } else {\n        this.guardarReserva();\n      }\n    },\n    guardarReserva() {\n      custom_axios.post(\"/apiv1/reservaaula\", this.reservaData).then(response => {\n        console.log(response);\n        this.resetValidationForAbm();\n        this.$emit(\"guardar\");\n        this.$router.push('/reservas');\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    editarReserva() {\n      custom_axios.patch(`/apiv1/reserva-aula/${this.reserva.id}`, this.reservaData).then(response => {\n        console.log(response);\n        this.resetValidationForAbm();\n        this.$emit(\"guardar\");\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    cancelar() {\n      this.resetValidationForAbm();\n      this.$emit(\"cancelar\");\n      this.$router.push('/reservaaula');\n    },\n    resetValidationForAbm() {\n      if (this.$refs.form) {\n        this.$refs.form.resetValidation();\n      }\n    },\n    cargarAulas() {\n      custom_axios.get('/apiv1/aula').then(response => {\n        this.aulas = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  },\n  created() {\n    if (this.reserva) {\n      this.reservaData = {\n        ...this.reserva\n      };\n    }\n    this.cargarAulas();\n  }\n};","map":{"version":3,"names":["custom_axios","props","reserva","type","Object","default","id","id_aula","fh_desde","fh_hasta","observacion","editar","Boolean","data","valid","reservaData","aulas","aulaRules","v","fechaDesdeRules","fechaHastaRules","observacionRules","length","watch","handler","nuevoValor","resetValidationForAbm","immediate","deep","methods","submit","editarReserva","guardarReserva","post","then","response","console","log","$emit","$router","push","catch","error","patch","cancelar","$refs","form","resetValidation","cargarAulas","get","created"],"sources":["src/components/AbmReservaAula.vue"],"sourcesContent":["<template>\n    <v-form ref=\"form\" v-model=\"valid\" @submit.prevent=\"submit\">\n      <v-card>\n        <v-card-title>{{ editar ? 'Editar Reserva' : 'Agregar Reserva' }}</v-card-title>\n        <v-card-text>\n          <v-select\n            v-model=\"reservaData.id_aula\"\n            :items=\"aulas\"\n            item-text=\"descripcion\"\n            item-value=\"id\"\n            label=\"Aula\"\n            :rules=\"aulaRules\"\n            required\n          ></v-select>\n          <v-datetime-picker\n            v-model=\"reservaData.fh_desde\"\n            label=\"Fecha y hora desde\"\n            :rules=\"fechaDesdeRules\"\n            required\n          ></v-datetime-picker>\n          <v-datetime-picker\n            v-model=\"reservaData.fh_hasta\"\n            label=\"Fecha y hora hasta\"\n            :rules=\"fechaHastaRules\"\n            required\n          ></v-datetime-picker>\n          <v-textarea\n            v-model=\"reservaData.observacion\"\n            label=\"Observación\"\n            :rules=\"observacionRules\"\n          ></v-textarea>\n        </v-card-text>\n        <v-card-actions>\n          <v-btn color=\"primary\" @click=\"submit\" :disabled=\"!valid\">\n            Guardar\n          </v-btn>\n          <v-btn color=\"secondary\" @click=\"cancelar\">\n            Cancelar\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-form>\n  </template>\n  \n  <script>\n  import custom_axios from '../plugins/axios.js';\n  \n  export default {\n    props: {\n      reserva: {\n        type: Object,\n        default: () => ({\n          id: \"\",\n          id_aula: null,\n          fh_desde: \"\",\n          fh_hasta: \"\",\n          observacion: \"\",\n        }),\n      },\n      editar: {\n        type: Boolean,\n        default: false,\n      },\n    },\n    data() {\n      return {\n        valid: false,\n        reservaData: {\n          id_aula: null,\n          fh_desde: \"\",\n          fh_hasta: \"\",\n          observacion: \"\",\n        },\n        aulas: [],\n        aulaRules: [\n          v => !!v || 'El aula es obligatoria',\n        ],\n        fechaDesdeRules: [\n          v => !!v || 'La fecha y hora desde es obligatoria',\n        ],\n        fechaHastaRules: [\n          v => !!v || 'La fecha y hora hasta es obligatoria',\n        ],\n        observacionRules: [\n          v => !v || v.length <= 256 || 'La observación no debe exceder los 256 caracteres',\n        ],\n      };\n    },\n    watch: {\n      reserva: {\n        handler(nuevoValor) {\n          this.reservaData = { ...nuevoValor };\n          if (!this.editar) {\n            this.resetValidationForAbm();\n          }\n        },\n        immediate: true,\n        deep: true,\n      },\n    },\n    methods: {\n      submit() {\n        if (this.editar) {\n          this.editarReserva();\n        } else {\n          this.guardarReserva();\n        }\n      },\n      guardarReserva() {\n        custom_axios\n          .post(\"/apiv1/reservaaula\", this.reservaData)\n          .then(response => {\n            console.log(response);\n            this.resetValidationForAbm();\n            this.$emit(\"guardar\");\n            this.$router.push('/reservas');\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      },\n      editarReserva() {\n        custom_axios\n          .patch(`/apiv1/reserva-aula/${this.reserva.id}`, this.reservaData)\n          .then(response => {\n            console.log(response);\n            this.resetValidationForAbm();\n            this.$emit(\"guardar\");\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      },\n      cancelar() {\n        this.resetValidationForAbm();\n        this.$emit(\"cancelar\");\n        this.$router.push('/reservaaula');\n      },\n      resetValidationForAbm() {\n        if (this.$refs.form) {\n          this.$refs.form.resetValidation();\n        }\n      },\n      cargarAulas() {\n        custom_axios\n          .get('/apiv1/aula')\n          .then(response => {\n            this.aulas = response.data;\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      },\n    },\n    created() {\n      if (this.reserva) {\n        this.reservaData = { ...this.reserva };\n      }\n      this.cargarAulas();\n    },\n  };\n  </script>"],"mappings":";AA6CA,OAAAA,YAAA;AAEA;EACAC,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,EAAAA,CAAA;QACAC,EAAA;QACAC,OAAA;QACAC,QAAA;QACAC,QAAA;QACAC,WAAA;MACA;IACA;IACAC,MAAA;MACAR,IAAA,EAAAS,OAAA;MACAP,OAAA;IACA;EACA;EACAQ,KAAA;IACA;MACAC,KAAA;MACAC,WAAA;QACAR,OAAA;QACAC,QAAA;QACAC,QAAA;QACAC,WAAA;MACA;MACAM,KAAA;MACAC,SAAA,GACAC,CAAA,MAAAA,CAAA,6BACA;MACAC,eAAA,GACAD,CAAA,MAAAA,CAAA,2CACA;MACAE,eAAA,GACAF,CAAA,MAAAA,CAAA,2CACA;MACAG,gBAAA,GACAH,CAAA,KAAAA,CAAA,IAAAA,CAAA,CAAAI,MAAA;IAEA;EACA;EACAC,KAAA;IACArB,OAAA;MACAsB,QAAAC,UAAA;QACA,KAAAV,WAAA;UAAA,GAAAU;QAAA;QACA,UAAAd,MAAA;UACA,KAAAe,qBAAA;QACA;MACA;MACAC,SAAA;MACAC,IAAA;IACA;EACA;EACAC,OAAA;IACAC,OAAA;MACA,SAAAnB,MAAA;QACA,KAAAoB,aAAA;MACA;QACA,KAAAC,cAAA;MACA;IACA;IACAA,eAAA;MACAhC,YAAA,CACAiC,IAAA,4BAAAlB,WAAA,EACAmB,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA;QACA,KAAAT,qBAAA;QACA,KAAAY,KAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;MACA,GACAC,KAAA,CAAAC,KAAA;QACAN,OAAA,CAAAC,GAAA,CAAAK,KAAA;MACA;IACA;IACAX,cAAA;MACA/B,YAAA,CACA2C,KAAA,6BAAAzC,OAAA,CAAAI,EAAA,SAAAS,WAAA,EACAmB,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA;QACA,KAAAT,qBAAA;QACA,KAAAY,KAAA;MACA,GACAG,KAAA,CAAAC,KAAA;QACAN,OAAA,CAAAC,GAAA,CAAAK,KAAA;MACA;IACA;IACAE,SAAA;MACA,KAAAlB,qBAAA;MACA,KAAAY,KAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;IACAd,sBAAA;MACA,SAAAmB,KAAA,CAAAC,IAAA;QACA,KAAAD,KAAA,CAAAC,IAAA,CAAAC,eAAA;MACA;IACA;IACAC,YAAA;MACAhD,YAAA,CACAiD,GAAA,gBACAf,IAAA,CAAAC,QAAA;QACA,KAAAnB,KAAA,GAAAmB,QAAA,CAAAtB,IAAA;MACA,GACA4B,KAAA,CAAAC,KAAA;QACAN,OAAA,CAAAC,GAAA,CAAAK,KAAA;MACA;IACA;EACA;EACAQ,QAAA;IACA,SAAAhD,OAAA;MACA,KAAAa,WAAA;QAAA,QAAAb;MAAA;IACA;IACA,KAAA8C,WAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}