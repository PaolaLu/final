{"ast":null,"code":"export default {\n  data: () => ({\n    valid: false,\n    usuario: \"\",\n    contrasenia: \"\",\n    mostrarContrasenia: false,\n    usuarioRules: [v => !!v || \"El usuario es obligatorio\"],\n    contraseniaRules: [v => !!v || \"La contraseña es obligatoria\"],\n    snackbar: false,\n    snackbarText: '',\n    timeout: 4000\n  }),\n  methods: {\n    ingresar() {\n      const data = {\n        username: this.usuario,\n        passwd: this.contrasenia\n      };\n      var that = this;\n      this.axios.post(\"/auth/login\", data).then(function (response) {\n        if (response.status === 200) {\n          that.$store.dispatch('loginAttempt', response.data);\n        }\n      }).catch(function (error) {\n        if (error.response && error.response.status === 401) {\n          that.snackbarText = 'Credenciales ingresadas incorrectas';\n        } else {\n          that.snackbarText = 'Ocurrió un Error';\n        }\n        that.snackbar = true;\n      }).then(function () {\n        // Puedes agregar código aquí si necesitas hacer algo después de la petición,\n        // independientemente de si fue exitosa o falló\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","valid","usuario","contrasenia","mostrarContrasenia","usuarioRules","v","contraseniaRules","snackbar","snackbarText","timeout","methods","ingresar","username","passwd","that","axios","post","then","response","status","$store","dispatch","catch","error"],"sources":["src/components/AulasLogin.vue"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <v-form ref=\"form\" v-model=\"valid\" @submit.prevent class=\"login-form\">\n      <v-card>\n        <v-card-title>Ingreso</v-card-title>\n        <v-card-text>\n          <v-text-field\n            v-model=\"usuario\"\n            label=\"Usuario\"\n            required\n            :rules=\"usuarioRules\"\n          >\n          </v-text-field>\n          <v-text-field\n            v-model=\"contrasenia\"\n            label=\"Contraseña\"\n            required\n            :rules=\"contraseniaRules\"\n            :append-icon=\"mostrarContrasenia ? 'mdi-eye' : 'mdi-eye-off'\"\n            :type=\"mostrarContrasenia ? 'text' : 'password'\"\n            @click:append=\"mostrarContrasenia = !mostrarContrasenia\"\n            @keyup.enter=\"ingresar\"\n          >\n          </v-text-field>\n        </v-card-text>\n        <v-card-actions>\n          <v-btn\n            align-self=\"center\"\n            color=\"primary\"\n            @click=\"ingresar\"\n            :disabled=\"!valid\"\n            >Ingresar\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-form>\n    <v-snackbar\n      v-model=\"snackbar\"\n      :timeout=\"timeout\"\n      color=\"red darken-2\"\n    >\n      {{ snackbarText }}\n    </v-snackbar>\n  </div>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    valid: false,\n    usuario: \"\",\n    contrasenia: \"\",\n    mostrarContrasenia: false,\n    usuarioRules: [(v) => !!v || \"El usuario es obligatorio\"],\n    contraseniaRules: [(v) => !!v || \"La contraseña es obligatoria\"],\n    snackbar: false,\n    snackbarText: '',\n    timeout: 4000,\n  }),\n  methods: {\n    ingresar() {\n      const data = {\n        username: this.usuario,\n        passwd: this.contrasenia\n      };\n      var that = this;\n      this.axios\n        .post(\"/auth/login\", data)\n        .then(function (response) {\n          if (response.status === 200){\n            that.$store.dispatch('loginAttempt', response.data)\n          }\n        })\n        .catch(function (error) {\n          if (error.response && error.response.status === 401){\n            that.snackbarText = 'Credenciales ingresadas incorrectas';\n          } else {\n            that.snackbarText = 'Ocurrió un Error'\n          }\n          that.snackbar = true;\n        })\n        .then(function () {\n          // Puedes agregar código aquí si necesitas hacer algo después de la petición,\n          // independientemente de si fue exitosa o falló\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.login-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n}\n.login-form {\n  min-width: 400px;\n}\n</style>"],"mappings":"AA+CA;EACAA,IAAA,EAAAA,CAAA;IACAC,KAAA;IACAC,OAAA;IACAC,WAAA;IACAC,kBAAA;IACAC,YAAA,GAAAC,CAAA,MAAAA,CAAA;IACAC,gBAAA,GAAAD,CAAA,MAAAA,CAAA;IACAE,QAAA;IACAC,YAAA;IACAC,OAAA;EACA;EACAC,OAAA;IACAC,SAAA;MACA,MAAAZ,IAAA;QACAa,QAAA,OAAAX,OAAA;QACAY,MAAA,OAAAX;MACA;MACA,IAAAY,IAAA;MACA,KAAAC,KAAA,CACAC,IAAA,gBAAAjB,IAAA,EACAkB,IAAA,WAAAC,QAAA;QACA,IAAAA,QAAA,CAAAC,MAAA;UACAL,IAAA,CAAAM,MAAA,CAAAC,QAAA,iBAAAH,QAAA,CAAAnB,IAAA;QACA;MACA,GACAuB,KAAA,WAAAC,KAAA;QACA,IAAAA,KAAA,CAAAL,QAAA,IAAAK,KAAA,CAAAL,QAAA,CAAAC,MAAA;UACAL,IAAA,CAAAN,YAAA;QACA;UACAM,IAAA,CAAAN,YAAA;QACA;QACAM,IAAA,CAAAP,QAAA;MACA,GACAU,IAAA;QACA;QACA;MAAA,CACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}