{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport custom_axios from '../plugins/axios.js';\nexport default {\n  props: {\n    profesor: {\n      type: Object,\n      default: () => ({\n        id: \"\",\n        nombre: \"\",\n        apellido: \"\",\n        mostrar: \"\"\n      })\n    },\n    editar: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      valid: false,\n      profesorData: {\n        nombre: \"\",\n        apellido: \"\",\n        mostrar: \"\"\n      },\n      nombreRules: [v => !!v || 'El nombre es requerido'],\n      apellidoRules: [v => !!v || 'El apellido es requerido'],\n      mostrarRules: [v => !!v || 'Mostrar es requerido']\n    };\n  },\n  watch: {\n    profesor: {\n      handler(nuevoValor) {\n        this.profesorData = {\n          ...nuevoValor\n        };\n        if (!this.editar) {\n          this.resetValidationForAbm();\n        }\n      },\n      deep: true\n    }\n  },\n  methods: {\n    submit() {\n      if (this.editar) {\n        this.editarProfesor();\n      } else {\n        this.guardarProfesor();\n      }\n    },\n    guardarProfesor() {\n      custom_axios.post('/apiv1/profesor', this.profesorData).then(response => {\n        console.log(response);\n        this.resetValidationForAbm();\n        this.$emit('guardar');\n        this.$emit('cerrar');\n        this.$router.push('/profesor');\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    editarProfesor() {\n      custom_axios.patch(`/apiv1/profesor/${this.profesorData.id}`, this.profesorData).then(response => {\n        console.log(response);\n        this.resetValidationForAbm();\n        this.$emit('guardar');\n        this.$emit('cerrar');\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    cancelar() {\n      this.resetValidationForAbm();\n      this.$emit('cancelar');\n    },\n    resetValidationForAbm() {\n      if (this.$refs.form) {\n        this.$refs.form.resetValidation();\n      }\n    }\n  },\n  created() {\n    if (this.profesor) {\n      this.profesorData = {\n        ...this.profesor\n      };\n    }\n  }\n};","map":{"version":3,"names":["custom_axios","props","profesor","type","Object","default","id","nombre","apellido","mostrar","editar","Boolean","data","valid","profesorData","nombreRules","v","apellidoRules","mostrarRules","watch","handler","nuevoValor","resetValidationForAbm","deep","methods","submit","editarProfesor","guardarProfesor","post","then","response","console","log","$emit","$router","push","catch","error","patch","cancelar","$refs","form","resetValidation","created"],"sources":["src/components/AbmProfesor.vue"],"sourcesContent":["<template>\n    <v-form ref=\"form\" v-model=\"valid\" @submit.prevent=\"submit\">\n      <v-card>\n        <v-card-title>{{ editar ? 'Editar Profesor' : 'Agregar Profesor' }}</v-card-title>\n        <v-card-text>\n          <v-text-field\n            v-model=\"profesorData.nombre\"\n            label=\"Nombre\"\n            :rules=\"nombreRules\"\n            required\n          ></v-text-field> \n          <v-text-field\n            v-model=\"profesorData.apellido\"\n            label=\"Apellido\"\n            :rules=\"apellidoRules\"\n            required\n          ></v-text-field>\n          <v-text-field\n            v-model=\"profesorData.mostrar\"\n            label=\"Mostrar\"\n            :rules=\"mostrarRules\"\n            required\n          ></v-text-field>\n        </v-card-text>\n        <v-card-actions>\n          <v-btn color=\"primary\" @click=\"submit\" :disabled=\"!valid\">Guardar</v-btn>\n          <v-btn color=\"secondary\" @click=\"cancelar\">Cancelar</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-form>\n  </template>\n  \n  <script>\n  import custom_axios from '../plugins/axios.js';\n  \n  export default {\n    props: {\n      profesor: {\n        type: Object,\n        default: () => ({ id:\"\", nombre:\"\", apellido:\"\",mostrar:\"\" }),\n      },\n      editar: {\n        type: Boolean,\n        default: false,\n      },\n    },\n    data() {\n      return {\n        valid: false,\n        profesorData: {\n          nombre: \"\",\n          apellido: \"\",\n          mostrar: \"\",\n        },\n        nombreRules: [(v) => !!v || 'El nombre es requerido'],\n        apellidoRules: [(v) => !!v || 'El apellido es requerido'],\n        mostrarRules: [(v) => !!v || 'Mostrar es requerido'],\n      };\n    },\n    watch: {\n      profesor: {\n        handler(nuevoValor) {\n          this.profesorData = { ...nuevoValor };\n          if (!this.editar) {\n            this.resetValidationForAbm();\n          }\n        },\n        deep: true,\n      },\n    },\n    methods: {\n      submit() {\n        if (this.editar) {\n          this.editarProfesor();\n        } else {\n          this.guardarProfesor();\n        }\n      },\n      guardarProfesor() {\n        custom_axios\n          .post('/apiv1/profesor', this.profesorData)\n          .then((response) => {\n            console.log(response);\n            this.resetValidationForAbm();\n            this.$emit('guardar');\n            this.$emit('cerrar');\n            this.$router.push('/profesor'); \n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      },\n      editarProfesor() {\n        custom_axios\n          .patch(`/apiv1/profesor/${this.profesorData.id}`, this.profesorData)\n          .then((response) => {\n            console.log(response);\n          this.resetValidationForAbm();\n            this.$emit('guardar');\n            this.$emit('cerrar');\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      },\n      cancelar() {\n        this.resetValidationForAbm();\n        this.$emit('cancelar');\n      },\n      resetValidationForAbm() {\n        if (this.$refs.form) {\n        this.$refs.form.resetValidation();\n        }\n      },\n    },\n    created() {\n      if (this.profesor) {\n        this.profesorData = { ...this.profesor };\n      }\n    },\n  };\n  </script>\n  \n  <style scoped>\n  </style>\n  "],"mappings":";AAiCA,OAAAA,YAAA;AAEA;EACAC,KAAA;IACAC,QAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,EAAAA,CAAA;QAAAC,EAAA;QAAAC,MAAA;QAAAC,QAAA;QAAAC,OAAA;MAAA;IACA;IACAC,MAAA;MACAP,IAAA,EAAAQ,OAAA;MACAN,OAAA;IACA;EACA;EACAO,KAAA;IACA;MACAC,KAAA;MACAC,YAAA;QACAP,MAAA;QACAC,QAAA;QACAC,OAAA;MACA;MACAM,WAAA,GAAAC,CAAA,MAAAA,CAAA;MACAC,aAAA,GAAAD,CAAA,MAAAA,CAAA;MACAE,YAAA,GAAAF,CAAA,MAAAA,CAAA;IACA;EACA;EACAG,KAAA;IACAjB,QAAA;MACAkB,QAAAC,UAAA;QACA,KAAAP,YAAA;UAAA,GAAAO;QAAA;QACA,UAAAX,MAAA;UACA,KAAAY,qBAAA;QACA;MACA;MACAC,IAAA;IACA;EACA;EACAC,OAAA;IACAC,OAAA;MACA,SAAAf,MAAA;QACA,KAAAgB,cAAA;MACA;QACA,KAAAC,eAAA;MACA;IACA;IACAA,gBAAA;MACA3B,YAAA,CACA4B,IAAA,yBAAAd,YAAA,EACAe,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA;QACA,KAAAR,qBAAA;QACA,KAAAW,KAAA;QACA,KAAAA,KAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;MACA,GACAC,KAAA,CAAAC,KAAA;QACAN,OAAA,CAAAC,GAAA,CAAAK,KAAA;MACA;IACA;IACAX,eAAA;MACA1B,YAAA,CACAsC,KAAA,yBAAAxB,YAAA,CAAAR,EAAA,SAAAQ,YAAA,EACAe,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA;QACA,KAAAR,qBAAA;QACA,KAAAW,KAAA;QACA,KAAAA,KAAA;MACA,GACAG,KAAA,CAAAC,KAAA;QACAN,OAAA,CAAAC,GAAA,CAAAK,KAAA;MACA;IACA;IACAE,SAAA;MACA,KAAAjB,qBAAA;MACA,KAAAW,KAAA;IACA;IACAX,sBAAA;MACA,SAAAkB,KAAA,CAAAC,IAAA;QACA,KAAAD,KAAA,CAAAC,IAAA,CAAAC,eAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,SAAAzC,QAAA;MACA,KAAAY,YAAA;QAAA,QAAAZ;MAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}