{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport custom_axios from '../plugins/axios.js';\nexport default {\n  props: {\n    carrera: {\n      type: Object,\n      default: () => ({\n        id: \"\",\n        nombre: \"\"\n      })\n    },\n    editar: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      valid: false,\n      carreraData: {\n        nombre: \"\"\n      },\n      nombreRules: [v => !!v || 'El nombre es obligatorio']\n    };\n  },\n  watch: {\n    carrera: {\n      handler(nuevoValor) {\n        this.carreraData = {\n          ...nuevoValor\n        };\n        if (!this.editar) {\n          this.resetValidationForAbm();\n        }\n      },\n      immediate: true,\n      deep: true\n    }\n  },\n  methods: {\n    submit() {\n      if (this.editar) {\n        this.editarCarrera();\n      } else {\n        this.guardarCarrera();\n      }\n    },\n    guardarCarrera() {\n      custom_axios.post(\"/apiv1/carrera\", this.carreraData).then(response => {\n        console.log(response);\n        this.resetValidationForAbm();\n        this.$emit(\"guardar\");\n        this.$router.push('/carrera');\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    editarCarrera() {\n      custom_axios.patch(`/apiv1/carrera/${this.carrera.id}`, this.carreraData).then(response => {\n        console.log(response);\n        this.resetValidationForAbm();\n        this.$emit(\"guardar\");\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    cancelar() {\n      this.resetValidationForAbm();\n      this.$emit(\"cancelar\");\n    },\n    resetValidationForAbm() {\n      if (this.$refs.form) {\n        this.$refs.form.resetValidation();\n      }\n    }\n  },\n  created() {\n    if (this.carrera) {\n      this.carreraData = {\n        ...this.carrera\n      };\n    }\n  }\n};","map":{"version":3,"names":["custom_axios","props","carrera","type","Object","default","id","nombre","editar","Boolean","data","valid","carreraData","nombreRules","v","watch","handler","nuevoValor","resetValidationForAbm","immediate","deep","methods","submit","editarCarrera","guardarCarrera","post","then","response","console","log","$emit","$router","push","catch","error","patch","cancelar","$refs","form","resetValidation","created"],"sources":["src/components/AbmCarrera.vue"],"sourcesContent":["<template>\n  <v-form ref=\"form\" v-model=\"valid\" @submit.prevent=\"submit\">\n    <v-card>\n      <v-card-title>{{ editar ? 'Editar Carrera' : 'Agregar Carrera' }}</v-card-title>\n      <v-card-text>\n        <v-text-field\n          v-model=\"carreraData.nombre\"\n          label=\"Nombre\"\n          :rules=\"nombreRules\"\n          required\n        ></v-text-field>\n      </v-card-text>\n      <v-card-actions>\n        <v-btn color=\"primary\" @click=\"submit\" :disabled=\"!valid\">\n          Guardar\n        </v-btn>\n        <v-btn color=\"secondary\" @click=\"cancelar\">\n          Cancelar\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-form>\n</template>\n\n<script>\nimport custom_axios from '../plugins/axios.js';\n\nexport default {\n  props: {\n    carrera: {\n      type: Object,\n      default: () => ({\n        id: \"\",\n        nombre: \"\",\n      }),\n    },\n    editar: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      valid: false,\n      carreraData: {\n        nombre: \"\",\n      },\n      nombreRules: [\n        v => !!v || 'El nombre es obligatorio',\n      ],\n    };\n  },\n  watch: {\n    carrera: {\n      handler(nuevoValor) {\n        this.carreraData = { ...nuevoValor };\n        if (!this.editar) {\n          this.resetValidationForAbm();\n        }\n      },\n      immediate: true,\n      deep: true,\n    },\n  },\n  methods: {\n    submit() {\n      if (this.editar) {\n        this.editarCarrera();\n      } else {\n        this.guardarCarrera();\n      }\n    },\n    guardarCarrera() {\n      custom_axios\n        .post(\"/apiv1/carrera\", this.carreraData)\n        .then(response => {\n          console.log(response);\n          this.resetValidationForAbm();\n          this.$emit(\"guardar\");\n          this.$router.push('/carrera');\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    },\n    editarCarrera() {\n      custom_axios\n        .patch(`/apiv1/carrera/${this.carrera.id}`, this.carreraData)\n        .then(response => {\n          console.log(response);\n          this.resetValidationForAbm();\n          this.$emit(\"guardar\");\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    },\n    cancelar() {\n      this.resetValidationForAbm();\n      this.$emit(\"cancelar\");\n    },\n    resetValidationForAbm() {\n      if (this.$refs.form) {\n        this.$refs.form.resetValidation();\n      }\n    },\n  },\n  created() {\n    if (this.carrera) {\n      this.carreraData = { ...this.carrera };\n    }\n  },\n};\n</script>\n\n<style scoped>\n</style>\n"],"mappings":";AAyBA,OAAAA,YAAA;AAEA;EACAC,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,EAAAA,CAAA;QACAC,EAAA;QACAC,MAAA;MACA;IACA;IACAC,MAAA;MACAL,IAAA,EAAAM,OAAA;MACAJ,OAAA;IACA;EACA;EACAK,KAAA;IACA;MACAC,KAAA;MACAC,WAAA;QACAL,MAAA;MACA;MACAM,WAAA,GACAC,CAAA,MAAAA,CAAA;IAEA;EACA;EACAC,KAAA;IACAb,OAAA;MACAc,QAAAC,UAAA;QACA,KAAAL,WAAA;UAAA,GAAAK;QAAA;QACA,UAAAT,MAAA;UACA,KAAAU,qBAAA;QACA;MACA;MACAC,SAAA;MACAC,IAAA;IACA;EACA;EACAC,OAAA;IACAC,OAAA;MACA,SAAAd,MAAA;QACA,KAAAe,aAAA;MACA;QACA,KAAAC,cAAA;MACA;IACA;IACAA,eAAA;MACAxB,YAAA,CACAyB,IAAA,wBAAAb,WAAA,EACAc,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA;QACA,KAAAT,qBAAA;QACA,KAAAY,KAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;MACA,GACAC,KAAA,CAAAC,KAAA;QACAN,OAAA,CAAAC,GAAA,CAAAK,KAAA;MACA;IACA;IACAX,cAAA;MACAvB,YAAA,CACAmC,KAAA,wBAAAjC,OAAA,CAAAI,EAAA,SAAAM,WAAA,EACAc,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA;QACA,KAAAT,qBAAA;QACA,KAAAY,KAAA;MACA,GACAG,KAAA,CAAAC,KAAA;QACAN,OAAA,CAAAC,GAAA,CAAAK,KAAA;MACA;IACA;IACAE,SAAA;MACA,KAAAlB,qBAAA;MACA,KAAAY,KAAA;IACA;IACAZ,sBAAA;MACA,SAAAmB,KAAA,CAAAC,IAAA;QACA,KAAAD,KAAA,CAAAC,IAAA,CAAAC,eAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,SAAAtC,OAAA;MACA,KAAAU,WAAA;QAAA,QAAAV;MAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}