{"ast":null,"code":"import custom_axios from '../plugins/axios.js';\nexport default {\n  props: {\n    aula: {\n      type: Object,\n      default: () => ({\n        id: \"\",\n        descripcion: \"\",\n        ubicacion: \"\",\n        cant_pcs: \"\",\n        cant_proyector: \"\",\n        es_climatizada: null,\n        aforo: \"\"\n      })\n    },\n    editar: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      valid: false,\n      aulaData: {\n        descripcion: \"\",\n        ubicacion: \"\",\n        cant_pcs: \"\",\n        cant_proyector: \"\",\n        es_climatizada: null,\n        aforo: \"\"\n      },\n      descripcionRules: [v => !!v || 'La descripción es obligatoria'],\n      ubicacionRules: [v => !!v || 'La ubicación es obligatoria'],\n      cant_pcsRules: [v => !!v || 'La cantidad de PCs es obligatoria', v => v >= 0 || 'La cantidad debe ser un número positivo'],\n      cant_proyectorRules: [v => !!v || 'La cantidad de proyectores es obligatoria', v => v >= 0 || 'La cantidad debe ser un número positivo'],\n      es_climatizadaRules: [v => v !== null || 'Debes seleccionar si es climatizada o no'],\n      aforoRules: [v => !!v || 'El aforo es obligatorio', v => v > 0 || 'El aforo debe ser mayor que cero']\n    };\n  },\n  watch: {\n    aula: {\n      handler(nuevoValor) {\n        this.aulaData = {\n          ...nuevoValor\n        };\n        if (this.editar) {\n          this.$nextTick(() => {\n            if (this.$refs.form) {\n              this.$refs.form.validate();\n            }\n          });\n        }\n      },\n      immediate: true,\n      deep: true\n    }\n  },\n  methods: {\n    submit() {\n      if (this.$refs.form.validate()) {\n        if (this.editar) {\n          this.editarAula();\n        } else {\n          this.guardarAula();\n        }\n      }\n    },\n    guardarAula() {\n      custom_axios.post(\"/apiv1/aula\", this.aulaData).then(response => {\n        console.log('Aula guardada:', response.data);\n        this.$emit(\"guardar\", response.data);\n      }).catch(error => {\n        console.error('Error al guardar el aula:', error);\n      });\n    },\n    editarAula() {\n      custom_axios.patch(`/apiv1/aula/${this.aula.id}`, this.aulaData).then(response => {\n        console.log('Aula editada:', response.data);\n        this.$emit(\"guardar\", response.data);\n      }).catch(error => {\n        console.error('Error al editar el aula:', error);\n      });\n    },\n    cancelar() {\n      this.$emit(\"cancelar\");\n    },\n    resetForm() {\n      this.aulaData = {\n        descripcion: \"\",\n        ubicacion: \"\",\n        cant_pcs: \"\",\n        cant_proyector: \"\",\n        es_climatizada: null,\n        aforo: \"\"\n      };\n      this.$refs.form.resetValidation();\n    }\n  },\n  created() {\n    if (this.aula) {\n      this.aulaData = {\n        ...this.aula\n      };\n    }\n  }\n};","map":{"version":3,"names":["custom_axios","props","aula","type","Object","default","id","descripcion","ubicacion","cant_pcs","cant_proyector","es_climatizada","aforo","editar","Boolean","data","valid","aulaData","descripcionRules","v","ubicacionRules","cant_pcsRules","cant_proyectorRules","es_climatizadaRules","aforoRules","watch","handler","nuevoValor","$nextTick","$refs","form","validate","immediate","deep","methods","submit","editarAula","guardarAula","post","then","response","console","log","$emit","catch","error","patch","cancelar","resetForm","resetValidation","created"],"sources":["src/components/AbmAula.vue"],"sourcesContent":["<template>\n  <v-form ref=\"form\" v-model=\"valid\" @submit.prevent=\"submit\">\n    <v-card>\n      <v-card-title>{{ editar ? 'Editar Aula' : 'Agregar Aula' }}</v-card-title>\n      <v-card-text>\n        <v-text-field\n          v-model=\"aulaData.descripcion\"\n          label=\"Descripción\"\n          :rules=\"descripcionRules\"\n          required\n        ></v-text-field>\n        <v-text-field\n          v-model=\"aulaData.ubicacion\"\n          label=\"Ubicación\"\n          :rules=\"ubicacionRules\"\n          required\n        ></v-text-field>\n        <v-text-field\n          v-model.number=\"aulaData.cant_pcs\"\n          label=\"Cantidad de pcs\"\n          type=\"number\"\n          :rules=\"cant_pcsRules\"\n          required\n        ></v-text-field>\n        <v-text-field\n          v-model.number=\"aulaData.cant_proyector\"\n          label=\"Cant_proyector\"\n          type=\"number\"\n          :rules=\"cant_proyectorRules\"\n          required\n        ></v-text-field>\n        <v-radio-group\n          v-model=\"aulaData.es_climatizada\"\n          label=\"¿Es climatizada?\"\n          :rules=\"es_climatizadaRules\"\n          row\n        >\n          <v-radio label=\"Sí\" :value=\"true\"></v-radio>\n          <v-radio label=\"No\" :value=\"false\"></v-radio>\n        </v-radio-group>\n        <v-text-field\n          v-model.number=\"aulaData.aforo\"\n          label=\"Aforo\"\n          type=\"number\"\n          :rules=\"aforoRules\"\n          required\n        ></v-text-field>\n      </v-card-text>\n      <v-card-actions>\n        <v-btn color=\"primary\" @click=\"submit\" :disabled=\"!valid\">\n          Guardar\n        </v-btn>\n        <v-btn color=\"secondary\" @click=\"cancelar\">\n          Cancelar\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-form>\n</template>\n\n<script>\nimport custom_axios from '../plugins/axios.js';\n\nexport default {\n  props: {\n    aula: {\n      type: Object,\n      default: () => ({\n        id: \"\",\n        descripcion: \"\",\n        ubicacion: \"\",\n        cant_pcs: \"\",\n        cant_proyector: \"\",\n        es_climatizada: null,\n        aforo: \"\",\n      }),\n    },\n    editar: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      valid: false,\n      aulaData: {\n        descripcion: \"\",\n        ubicacion: \"\",\n        cant_pcs: \"\",\n        cant_proyector: \"\",\n        es_climatizada: null,\n        aforo: \"\",\n      },\n      descripcionRules: [v => !!v || 'La descripción es obligatoria'],\n      ubicacionRules: [v => !!v || 'La ubicación es obligatoria'],\n      cant_pcsRules: [\n        v => !!v || 'La cantidad de PCs es obligatoria',\n        v => v >= 0 || 'La cantidad debe ser un número positivo',\n      ],\n      cant_proyectorRules: [\n        v => !!v || 'La cantidad de proyectores es obligatoria',\n        v => v >= 0 || 'La cantidad debe ser un número positivo',\n      ],\n      es_climatizadaRules: [v => v !== null || 'Debes seleccionar si es climatizada o no'],\n      aforoRules: [\n        v => !!v || 'El aforo es obligatorio',\n        v => v > 0 || 'El aforo debe ser mayor que cero',\n      ],\n    };\n  },\n  watch: {\n    aula: {\n      handler(nuevoValor) {\n        this.aulaData = { ...nuevoValor };\n        if (this.editar) {\n          this.$nextTick(() => {\n            if (this.$refs.form) {\n              this.$refs.form.validate();\n            }\n          });\n        }\n      },\n      immediate: true,\n      deep: true,\n    },\n  },\n  methods: {\n    submit() {\n      if (this.$refs.form.validate()) {\n        if (this.editar) {\n          this.editarAula();\n        } else {\n          this.guardarAula();\n        }\n      }\n    },\n    guardarAula() {\n      custom_axios\n        .post(\"/apiv1/aula\", this.aulaData)\n        .then(response => {\n          console.log('Aula guardada:', response.data);\n          this.$emit(\"guardar\", response.data);\n        })\n        .catch(error => {\n          console.error('Error al guardar el aula:', error);\n        });\n    },\n    editarAula() {\n      custom_axios\n        .patch(`/apiv1/aula/${this.aula.id}`, this.aulaData)\n        .then(response => {\n          console.log('Aula editada:', response.data);\n          this.$emit(\"guardar\", response.data);\n        })\n        .catch(error => {\n          console.error('Error al editar el aula:', error);\n        });\n    },\n    cancelar() {\n      this.$emit(\"cancelar\");\n    },\n    resetForm() {\n      this.aulaData = {\n        descripcion: \"\",\n        ubicacion: \"\",\n        cant_pcs: \"\",\n        cant_proyector: \"\",\n        es_climatizada: null,\n        aforo: \"\",\n      };\n      this.$refs.form.resetValidation();\n    },\n  },\n  created() {\n    if (this.aula) {\n      this.aulaData = { ...this.aula };\n    }\n  },\n};\n</script>"],"mappings":"AA6DA,OAAAA,YAAA;AAEA;EACAC,KAAA;IACAC,IAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,EAAAA,CAAA;QACAC,EAAA;QACAC,WAAA;QACAC,SAAA;QACAC,QAAA;QACAC,cAAA;QACAC,cAAA;QACAC,KAAA;MACA;IACA;IACAC,MAAA;MACAV,IAAA,EAAAW,OAAA;MACAT,OAAA;IACA;EACA;EACAU,KAAA;IACA;MACAC,KAAA;MACAC,QAAA;QACAV,WAAA;QACAC,SAAA;QACAC,QAAA;QACAC,cAAA;QACAC,cAAA;QACAC,KAAA;MACA;MACAM,gBAAA,GAAAC,CAAA,MAAAA,CAAA;MACAC,cAAA,GAAAD,CAAA,MAAAA,CAAA;MACAE,aAAA,GACAF,CAAA,MAAAA,CAAA,yCACAA,CAAA,IAAAA,CAAA,mDACA;MACAG,mBAAA,GACAH,CAAA,MAAAA,CAAA,iDACAA,CAAA,IAAAA,CAAA,mDACA;MACAI,mBAAA,GAAAJ,CAAA,IAAAA,CAAA;MACAK,UAAA,GACAL,CAAA,MAAAA,CAAA,+BACAA,CAAA,IAAAA,CAAA;IAEA;EACA;EACAM,KAAA;IACAvB,IAAA;MACAwB,QAAAC,UAAA;QACA,KAAAV,QAAA;UAAA,GAAAU;QAAA;QACA,SAAAd,MAAA;UACA,KAAAe,SAAA;YACA,SAAAC,KAAA,CAAAC,IAAA;cACA,KAAAD,KAAA,CAAAC,IAAA,CAAAC,QAAA;YACA;UACA;QACA;MACA;MACAC,SAAA;MACAC,IAAA;IACA;EACA;EACAC,OAAA;IACAC,OAAA;MACA,SAAAN,KAAA,CAAAC,IAAA,CAAAC,QAAA;QACA,SAAAlB,MAAA;UACA,KAAAuB,UAAA;QACA;UACA,KAAAC,WAAA;QACA;MACA;IACA;IACAA,YAAA;MACArC,YAAA,CACAsC,IAAA,qBAAArB,QAAA,EACAsB,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,mBAAAF,QAAA,CAAAzB,IAAA;QACA,KAAA4B,KAAA,YAAAH,QAAA,CAAAzB,IAAA;MACA,GACA6B,KAAA,CAAAC,KAAA;QACAJ,OAAA,CAAAI,KAAA,8BAAAA,KAAA;MACA;IACA;IACAT,WAAA;MACApC,YAAA,CACA8C,KAAA,qBAAA5C,IAAA,CAAAI,EAAA,SAAAW,QAAA,EACAsB,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,kBAAAF,QAAA,CAAAzB,IAAA;QACA,KAAA4B,KAAA,YAAAH,QAAA,CAAAzB,IAAA;MACA,GACA6B,KAAA,CAAAC,KAAA;QACAJ,OAAA,CAAAI,KAAA,6BAAAA,KAAA;MACA;IACA;IACAE,SAAA;MACA,KAAAJ,KAAA;IACA;IACAK,UAAA;MACA,KAAA/B,QAAA;QACAV,WAAA;QACAC,SAAA;QACAC,QAAA;QACAC,cAAA;QACAC,cAAA;QACAC,KAAA;MACA;MACA,KAAAiB,KAAA,CAAAC,IAAA,CAAAmB,eAAA;IACA;EACA;EACAC,QAAA;IACA,SAAAhD,IAAA;MACA,KAAAe,QAAA;QAAA,QAAAf;MAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}